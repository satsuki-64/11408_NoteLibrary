---
title： Lecture 12：特殊矩阵与压缩存储
tags：
  - 数据结构
categories： 
date： 2024-03-18
---
---
## 12.1 数组
### 12.1.1 一维数组
**一维存储：**
- 各数组元素大小相同，且物理上连续存放。
- 数组元素**a[i]** 的存放地址 = **LOC +i\* sizeof (ElemType)**
- 计算方法：
	- 数组元素 a[i]的存放地址=LOC+i* sizeof (ElemType)(0≤i<10)
- **注：** 除非题目特别说明，否则<mark style="background： #FFF3A3A6;">数组下标默认从 0 开始</mark>

**数组的存储结构**
```c
//C语言定义一维数组
ElemType a[10];
```

### 12.1.2 二维数组
**概念**
+ 计算机内部从存储空间是线性的所以要是得逻辑——>物理
+ 计算：
	+ 行优先：`b[i][j]的存储地址 = LOC+(i * N+j) * sizeof (ElemType)` 
	+ 列优先：`b[i]{j]的存储地址 = LOC+(j * M+i) * sizeof(ElemType)`

**代码定义**
```c
//2行4列的二维数组
ElemType b[2][4];
```
**行优先与列优先**
+ 举例：2 行 4 列
+ 行优先： 
	+ ![[Pasted image 20240318170542.png]]
+ 列优先： 
	+ ![[Pasted image 20240318170528.png]]


![[Pasted image 20240318164121.png]]

- 列优先存储同上，这里不做概述

## 12.2 特殊矩阵
**普通矩阵**
+ 可以直接使用二维数组存储；
+ 注意 index 是从 0 开始还是 1 开始；

### 12.2.1 对称矩阵的压缩存储
**对称矩阵的压缩存储**
- 概念：
	- 若 n 阶方阵中任意一个元素 $a_{i,j}$ 都有 $a_{i,j}=a_{j,i}$ 则该矩阵为对称矩阵；
- **普通存储：** $n*n$ 二维数组
- **压缩存储策略：** 只存储主对角线+下三角区 (或主对角线+上三角区)
+ 图示：
	+ ![[Pasted image 20240318170958.png]]

### 12.2.2 三对角矩阵的压缩存储 
**上三角矩阵与下三角矩阵**
+ 概念：
	+ 当需要把对称矩阵中的数据进行存储时，可以只存储**主对角线+下三角区**；
	+ 按行优先原则将各元素存入一维数组中；
	+ 即：把对称矩阵压缩存储为一个三角矩阵；
+ 下三角的一维数组大小：`(1+n)*n/2`
+ 图示：
	+ ![[Pasted image 20240318164306.png]]

**压缩存储策略**
+ 按行优先原则将橙色区元素存入**一维数组**中，并在最后一个位置存储常量 C；
+ 图示：
	+ ![[Pasted image 20240318164343.png]]
- `Key`：按行优先的原则，$a_{i,j}$ 是第几个元素？
 
```ad-col
title：压缩存储(下三角)
$$
k=\begin{cases}\frac{i(i-1)}{2}+j-1\ , i\geq j \ (\mbox{下三角区和对角线元素})\\ \frac{n(n+1)}{2}\ , i<j \ (\mbox{上三角区元素})\\ \end{cases}
$$
```

```ad-col
title：压缩存储(上三角)
$$
k=\begin{cases}\frac{(i-1)(2n-i+2)}{2}+(j-i)\ , i\le j \ (\mbox{下三角区和对角线元素})\\ \frac{n(n+1)}{2}\ , i>j \ (\mbox{上三角区元素})\\ \end{cases}
$$
```


**三对角矩阵的压缩存储**
- 三对角矩阵，又称带状矩阵：当 $|i-j|>1$ 时，有 $a_{i,j}=0 (1\le i,j\le n)$
- **压缩存储策略：**
	- 按行优先(或列优先)原则，只存储带状部分；
- 图示：
	- ![[Pasted image 20240318164420.png]]
+ 注意：视频中是 a_ij 元素前有 i-2个空(推导时注意)
+ 压缩规则：`aij(|i-j|)≤1→B[k] `

### 12.2.3 稀疏矩阵的压缩存储 
**稀疏矩阵的压缩存储**
- **稀疏矩阵：** 非零元素远远小于矩阵元素的个数
- **压缩存储策略：**
	- 顺序存储——三元组<行，列，值>
- 图示： 
	- ![[Pasted image 20240318164459.png]]

